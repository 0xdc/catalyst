#!/usr/bin/python
# Copyright 1999-2015 Gentoo Foundation
# Distributed under the terms of the GNU General Public License v2

"""Run pylint with the right settings."""

from __future__ import print_function

import os
import sys


def main(argv):
	"""The main entry point"""
	source_root = os.path.dirname(os.path.dirname(os.path.realpath(__file__)))

	pympath = source_root
	pythonpath = os.environ.get('PYTHONPATH')
	if pythonpath is None:
		pythonpath = pympath
	else:
		pythonpath = pympath + ':' + pythonpath
	os.environ['PYTHONPATH'] = pythonpath

	pylintrc = os.path.join(source_root, '.pylintrc')
	cmd = ['pylint', '--rcfile', pylintrc]
	os.execvp(cmd[0], cmd + argv)


if __name__ == '__main__':
	main(sys.argv[1:])
